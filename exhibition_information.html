<!DOCTYPE html>
<html lang="zh-hant">
  <head>
    @@include('./layout/head.html',{ "title":'新藝術運動' })
    <script src="https://unpkg.com/vue@2"></script>
  </head>

  <body>
    <div class="wrapper ex_info_wrapper" id="app">
      @@include('./layout/header.html')
      <!-- ====================================================== -->
      <!-- 上方大圖 -->
      <div class="ex_info_banner">
        <picture>
          <source
            :srcset="'./images/'+ packages.MAIN_IMAGE[0]"
            media="(min-width:500px)"
          />
          <source
            :srcset="'./images/'+ packages.MAIN_IMAGE[1]"
            media="(max-width:500px)"
          />
          <img src="./images/" />
        </picture>
      </div>
      <!-- 麵包屑 -->
      <div class="ex_info_bread">
        <ul class="ex_center">
          <li class="ex_info_bread1"><p>常設展覽</p></li>
          <li class="ex_info_bread2"><p>{{packages.EXHIBITION_TYPE}}</p></li>
          <li class="ex_info_bread3"><p>{{packages.NAME}}</p></li>
        </ul>
      </div>
      <!-- 展覽簡介 -->
      <div class="ex_info_main ex_center">
        <!-- 標題區塊 -->
        <div class="title">
          <h2>{{packages.NAME}}</h2>
          <p>追朔藝術家們於館內展出的歷史典藏</p>
          <div></div>
        </div>

        <!-- 圖文區塊 -->
        <div class="ex_info_main_info">
          <!-- <img :src=`./images/${packages.SUB_IMAGE}` /> -->
          <img :src="'./images/' + packages.SUB_IMAGE" />
          <div class="ex_info_line"></div>

          <div class="ex_info_main_text">
            <h4>新藝術風格的繪畫作品</h4>
            <p>{{packages.INTRODUCTION}}</p>
          </div>
        </div>
      </div>
      <!-- 加入提醒 -->
      <div class="ex_info_join">
        <div class="ex_center">
          <h5>成為會員並接收最新展覽資訊</h5>
          <a href="./signin.html" class="btn_s_remind">加入會員</a>
        </div>
      </div>
      <!-- 相關藝術品 -->
      <div class="ex_info_art ex_center">
        <div class="title">
          <h3>代表性創作</h3>
          <p>追朔藝術家們於館內展出的歷史典藏</p>
          <div></div>
        </div>
        <!-- Vue Component -->
        <ex_info_img :msg="packages"></ex_info_img>
        <!-- Vue Component -->
      </div>
      <!-- 購票提醒 -->
      <div class="ex_info_buy">
        <div class="ex_center">
          <h5>深入了解欣賞歷史文物</h5>
          <a href="./ticket.html" class="btn_s_remind">立即購票</a>
        </div>
      </div>
      <!-- 相關展覽 -->
      <div class="ex_info_other ex_center">
        <div>
          <div class="title">
            <h3>相關展覽</h3>
            <p>追朔藝術家們於館內展出的歷史典藏</p>
            <div></div>
          </div>

          <div class="ex_info_like">
            <a href="#"><i class="fa-solid fa-chevron-left"></i></a>
            <ul class="ex_center">
              <li class="ex_info_like1">
                <h3>兵器演進</h3>
              </li>
              <li class="ex_info_like2">
                <h3>歷史事件</h3>
              </li>
              <li class="ex_info_like3">
                <h3>探索秘境</h3>
              </li>
            </ul>
            <a href="#"><i class="fa-solid fa-chevron-right"></i></a>
          </div>
          <div class="ex_info_btn">
            <ul>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
            </ul>
          </div>
        </div>
      </div>
      <!-- ====================================================== -->
      @@include('./layout/footer.html')
    </div>

    <script>
      // Vue ----------------------------------------------
      new Vue({
        el: "#app",

        data: {
          // 空陣列 等資料
          packages: [],
        },

        mounted() {
          // fetch --------------------------------------------
          fetch("./php/ex_info.php?ex_id=1")
            .then((resp) => resp.json())
            .then((resp) => {
              // 將取到的回應放進空陣列
              this.packages = resp;
              // console.log(this.packages);
            });
        },

        computed: {
          function() {
            let splite = [this.packages];
            splite  .map((el) => {
              return (
                (el.MAIN_IMAGE = el.MAIN_IMAGE.split("|")),
                (el.OTHER_IMAGE = el.OTHER_IMAGE.split("|"))
              );
            });
            return;
          },
        },

        methods: {},
      });

      Vue.component("ex_info_img", {
      
        props: ["msg"],

        template: `
          <div class="ex_info_art_item">
            <img :src="'./images/'+ msg.OTHER_IMAGE[0]" class="ex_art_item-0" />
            <img :src="'./images/'+ msg.OTHER_IMAGE[1]" class="ex_art_item-1" />
            <img :src="'./images/'+ msg.OTHER_IMAGE[2]" class="ex_art_item-2" />
            <img :src="'./images/'+ msg.OTHER_IMAGE[3]" class="ex_art_item-3" />
            <img :src="'./images/'+ msg.OTHER_IMAGE[4]" class="ex_art_item-4" />
          </div>
          `,
      });
    </script>
  </body>
</html>
